<!-- <onboarding-popover enabled="true" steps="homeCtrl.onboardingSteps" on-finish-callback='homeCtrl.myCallbackFunction' step-index='homeCtrl.onboardingIndex'></onboarding-popover> -->
<sidemenu id="sidr"></sidemenu>
<div class="pageContanerCustom">

    <div class="item page styleMenu">
        <div class="row">

            <div class="col-md-12 col-sm-12 insideClass">
                <i class="glyphicon glyphicon-menu-hamburger menuIcon" id="simple-menu" href="#sidr" aria-hidden="true"></i>
                <h2 class="title-year">Plan 2017</h2>

                <excelcomponent showimport="true"></excelcomponent>
                <button type="button" class="btn btn-link action-collapse" ng-click="homeCtrl.collapseAll()">
                    Colapsar todo  <i class="glyphicon glyphicon-chevron-up" aria-hidden="true"></i>
                </button>
                <button type="button" class="btn btn-link action-collapse" ng-click="homeCtrl.showAll()">
                   Desplegar todo  <i class="glyphicon glyphicon-chevron-down" aria-hidden="true"></i>
                </button>
            </div>
            <div class="col-md-12 col-sm-12 insideClass">
                <hr class="lineColor">
            </div>
            <div class="col-md-12 col-sm-12 insideClass">
                <div id="notifications"></div>
                <div class="content-first-btn principalBtn">
                    <!--<button type="button" class="btn btn-default" ng-click="">
                      <i class="glyphicon glyphicon-plus" aria-hidden="true"></i> Agregar Proyecto
                    </button>
                    <button type="button" class="btn btn-default" ng-click="">
                      <i class="glyphicon glyphicon-plus" aria-hidden="true"></i> Agregar Obj. Operativo
                    </button> -->

                </div>



                <!-- objetivos estrategicos -->
                    <div class="withoutOjE" ng-if="(homeCtrl.jurisdiccion.objetivosJurisdiccionales | filter:homeCtrl.search.searchText.text).length === 0">
                      <div class="title titleOjEestrategico">Objetivos Estrat&eacute;gicos</div>
                      <div id="add-strategic-objetive"></div>
                      <button type="button" class="btn btn-default btnNew" ng-click="homeCtrl.addStrategicObjective(homeCtrl.jurisdiccion.idJurisdiccion)">
                        <span>Nuevo</span>
                        <div class="icNew" title="Nuevo"></div>
                      </button>
                      <div class="alert alert-danger">
                          <i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i> No hay resultados para mostrar de su busqueda: "{{homeCtrl.search.searchText.text}}"
                      </div>
                    </div>
                    <div ng-hide="(homeCtrl.jurisdiccion.objetivosJurisdiccionales | filter:homeCtrl.search.searchText.text).length === 0">
                      <div class="title titleOjEestrategico">Objetivos Estrat&eacute;gicos</div>
                      <div id="add-strategic-objetive"></div>
                      <button type="button" class="btn btn-default btnNew" ng-click="homeCtrl.addStrategicObjective(homeCtrl.jurisdiccion.idJurisdiccion)">
                        <span>Nuevo</span>
                        <div class="icNew" title="Nuevo"></div>
                      </button>
                    </div>
                    <div class="col-md-12 col-sm-12 colorObjOperativo">
                        <ul class="content-level-1" ng-repeat="objJ in homeCtrl.jurisdiccion.objetivosJurisdiccionales | filter:homeCtrl.search.searchText.text">
                            <li class="firstLabel">
                                <span id="es-{{objJ.idObjetivoJurisdiccional}}">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 default-content" >
                                            <div class="col-md-12 col-sm-12 notPadding relativeContent">
                                                <p class="nameObj" data-toggle="collapse" href="#grupo-level-{{objJ.idObjetivoJurisdiccional}}">{{ objJ.nombre }}
                                                    <span class="icEdit absoluteContent" aria-hidden="true" title="Editar" data-toggle="tooltip" data-placement="top" title="" data-original-title="Editar" ng-click="homeCtrl.editStrategicObjective(objJ.idObjetivoJurisdiccional)"></span>
                                                </p>
                                                <i class="collapsed img-chevron-down verticalCenter" aria-hidden="true" data-toggle="collapse" href="#grupo-level-{{objJ.idObjetivoJurisdiccional}}"></i>
                                            </div>

                                        </div>
                                    </div>
                                </span>

                                <!-- Inicio de Objetivos Operativos -->
                                <span id="grupo-level-{{objJ.idObjetivoJurisdiccional}}" class="collapse objOContent">
                                    <div class="contentName">
                                    <span class="title viewArbol">Objetivos Operativos</span>
                                     <button type="button" class="btn btn-default btnNew" ng-click="homeCtrl.addOperativeObjective(objJ.idObjetivoJurisdiccional, objJ.idObjetivoJurisdiccional)">
                                        <span>Nuevo</span>
                                        <div class="icNew" title="Nuevo"></div>
                                    </button>
                                    </div>
                                    <span ng-if="objJ.objetivosOperativos.length === 0">
                                        <div class="col-md-12 col-sm-12 col-xs-12 notPadding">
                                            <br>
                                            <div class="notificationEmptyProject">
                                                 No existen objetivos operativos para este objetivo estratégico.
                                            </div>
                                        </div>
                                    </span>
                                    <div id="add-operative-objetive-{{objJ.idObjetivoJurisdiccional}}"></div>
                                    <ul>
                                        <li class="secondLabel" ng-repeat="objO in objJ.objetivosOperativos  | filter:homeCtrl.search.searchText.text">
                                            <span id="op-{{objO.idObjetivoOperativo}}">
                                                <div class="row content-obj">
                                                    <div class="col-md-12 col-sm-12">
                                                        <div class="col-md-12 col-sm-12 textObjOp notPadding relativeContent">
                                                            <span class="nameObj" data-toggle="collapse" href="#grupo-level-2-{{objO.idObjetivoOperativo}}">{{ objO.nombre }}
                                                             <span class="icEdit absoluteContent" aria-hidden="true" title="Editar" data-toggle="tooltip" ng-click="homeCtrl.editOperativeObjective(objO.idObjetivoOperativo)" data-placement="top" title="" data-original-title="Editar"></span>
                                                             </span>
                                                           <i class="img-chevron-down collapsed verticalCenter" aria-hidden="true" data-toggle="collapse" href="#grupo-level-2-{{objO.idObjetivoOperativo}}"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                            </span>
                                            <div ng-if="!$last" class="col-md-12 col-sm-12 col-xs-12 notPadding">
                                                <hr class="noMargin">
                                            </div>

                                            <!-- Inicio de Proyectos -->

                                            <span id="grupo-level-2-{{objO.idObjetivoOperativo}}" class="collapse projectContent">
                                                <div class="columnRight">
                                                    <span class="title viewArbol">Proyectos</span>
                                                    <button type="button" class="btn btn-default btnNew" ng-click="homeCtrl.addProject(objO.idObjetivoOperativo)" id="addProjectButton-{{objO.idObjetivoOperativo}}">
                                                        <span>Nuevo</span>
                                                        <div class="icNew" title="Nuevo"></div>
                                                    </button>
                                                </div>
                                                <span ng-if="objO.proyectos.length === 0">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 notPadding">
                                                      <br>
                                                      <div class="notificationEmptyProject">
                                                           No existen proyectos para este objetivo operativo.
                                                      </div>
                                                    </div>
                                                </span>
                                                <div ng-if="objO.proyectos.length > 0">
                                                  <div class="contentDate">
                                                      <span class="title left">Inicio</span>
                                                      <span class="title left">Fin</span>
                                                      <span class="title left">Estado</span>
                                                  </div>
                                                  <ul id="addproject">
                                                      <li class="listProject" ng-repeat="proyecto in objO.proyectos | filter:homeCtrl.search.searchText.text">
                                                          <span class="thirdLabel columnRight">
                                                              <span class="nameObj" ng-click="homeCtrl.viewProject(proyecto.idProyecto)">{{proyecto.nombre}}  </span>
                                                              <span class="icEdit absoluteContent" aria-hidden="true" title="Editar" data-toggle="tooltip" ng-if="proyecto.estado !== 'En Priorización' && !(homeCtrl.rolUser === 'Operador de jurisdicción' && (proyecto.estado === 'Pre Aprobado' || proyecto.estado === 'Demorado' || proyecto.estado === 'Rechazado'))" ng-click="homeCtrl.editProject(proyecto.idProyecto)" data-placement="top" title="" data-original-title="Editar"></span>
                                                              <i ng-if="homeCtrl.rolUser === 'Secretaría'" class="glyphicon glyphicon-tag" style=" margin-left: 30px;" aria-hidden="true" title="Etiquetas" data-toggle="tooltip" ng-click="homeCtrl.labels(proyecto.idProyecto)" data-placement="top" title="Etiquetas" data-original-title="Etiquetas"></i>
                                                          </span>

                                                          <div class="box-date relativeContent">
                                                              <span class="titleMobile">Inicio: </span>
                                                              <span class="date left">{{proyecto.fechaInicio | date:'MM/dd/yyyy'}}</span>
                                                              <span class="titleMobile">Fin: </span>
                                                              <span class="date left">{{proyecto.fechaFin| date:'MM/dd/yyyy'}}</span>
                                                              <span class="titleMobile estado">Estado: </span>
                                                              <span class="estateClass" ng-class="{'completoClass' : proyecto.estado === 'Completo', 'incompletoClass' : proyecto.estado === 'Incompleto', 'presentadoClass' : proyecto.estado === 'Presentado', 'verificadoClass' : proyecto.estado === 'Verificado', 'canceladoClass' : proyecto.estado === 'Cancelado', 'preAprobadoClass' : proyecto.estado === 'Pre aprobado', 'aprobadoClass' : proyecto.estado === 'Aprobado', 'aplazadoClass' : proyecto.estado === 'Demorado', 'rechazadoClass' : proyecto.estado === 'Rechazado', 'enPriorizacionClass' : proyecto.estado === 'En Priorización'}">{{proyecto.estado}}</span>
                                                              <i class="img-chevron-down collapsed verticalCenter" aria-hidden="true" data-toggle="collapse" href="#grupo-level-{{objO.idObjetivoOperativo}}-{{$index}}"></i>
                                                          </div>
                                                          <div class="col-md-12 col-sm-12 col-xs-12 notPadding" id="proyecto-{{proyecto.idProyecto}}">
                                                              <hr class="line-inner-proyect">
                                                              <div ng-if="$last && objO.proyectos.length > 0"><br></div>
                                                          </div>
                                                      </li>
                                                  </ul>
                                                </div>
                                            </span>

                                            <!-- Fin de proyectos -->

                                        </li>
                                    </ul>
                                </span>

                                <!-- FIN de Objetivos Operativos -->

                            </li>
                        </ul>
                    <div>
                </div>
                <!-- FIN de objetivos estrategicos -->



            </div>
        </div>
    </div>
</div>
</div>
